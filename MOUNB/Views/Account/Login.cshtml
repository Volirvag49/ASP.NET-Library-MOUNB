@model MOUNB.Models.LogViewModel
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Авторизация</title>
    @Styles.Render("~/Content/css")
    <link href='@Url.Content("~/Content/themes/base/jquery-ui.css")' rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/themes/base/all.css")" rel="stylesheet" type="text/css" />
    @Scripts.Render("~/bundles/modernizr")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jquery-ui")

</head>
<body>
    <div id="Content">
        <div class="row">
            <div class="col-md-4 column ui-sortable"></div>
            <div class="col-md-4 column ui-sortable">
                <div class="container body-content">

                    <h2>Вход в систему</h2>

                    @using (Html.BeginForm())
                    {
                        @Html.ValidationSummary(true)

                        <fieldset>
                            <legend>Введите свой логин и пароль для входа в систему</legend>

                            <div class="form-group">
                                @Html.LabelFor(model => model.UserName, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.UserName, new { htmlAttributes = new { @class = "form-control", placeholder = "Введите логин" } })
                                @Html.ValidationMessageFor(model => model.UserName, "", new { @class = "text-danger" })
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => model.Password, htmlAttributes: new { @class = "control-label" })
                                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control", placeholder = "Введите пароль" } })
                                @Html.ValidationMessageFor(model => model.Password, "", new { @class = "text-danger" })
                            </div>

                            <div class="checkbox">
                                @Html.LabelFor(model => model.RememberMe)
                                @Html.EditorFor(model => model.RememberMe)
                            </div>
                            <p>
                                <div class="form-group">
                                    <input id="formButton" type="submit" value="Войти" class="btn btn-default" />
                                </div>

                        </fieldset>
                    }
                </div>
            </div>
            <div class="col-md-4 column ui-sortable"></div>
        </div>
    </div>
    <script>
     $("#formButton").on("click", function (e) {
        e.preventDefault();
        $.ajax({
            url: "@Url.Action("Login")",
            type: "POST",
         data: $('form').serialize(),
            datatype: "json",
            success: function (result) {
                if (result.result == 'Redirect')
                    window.location = response.url;
            $("#Content").html(result);
            }
        });
    });
    </script>
</body>
</html>
